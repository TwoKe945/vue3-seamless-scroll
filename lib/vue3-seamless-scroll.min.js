!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SeamlessScroll={},e.Vue)}(this,(function(e,t){"use strict";function n(e,t,n,i){return new(n=n||Promise)((function(o,l){function r(e){try{s(i.next(e))}catch(e){l(e)}}function a(e){try{s(i.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(r,a)}s((i=i.apply(e,t||[])).next())}))}class i{static isTrue(e,t){if(!e)throw new Error(t)}static isFalse(e,t){i.isTrue(!e,t)}static isEmpty(e,t){var n=e&&e.toString();i.isTrue(null==e||!1===e||"null"===n||"undefined"===n||""===n||"{}"===JSON.stringify(e)||"[]"===n,t)}static notEmpty(e,t){var n=e&&e.toString();i.isTrue(null!==e||void 0!==e||!1!==e||"null"!==n||"undefined"!==n||""!==n||"{}"!==JSON.stringify(e)||"[]"!==n,t)}}var o;(c=o=o||{}).TOP="top",c.BOTTOM="bottom",c.LEFT="left",c.RIGHT="right";const l=new class{type(){return o.TOP}style(e){return{top:`-${e}px`,flexDirection:"column"}}isOverflow(e,t){return Math.abs(e)>=t.height}start(e){return 0}},r=new class{type(){return o.BOTTOM}style(e){return{top:e+"px",flexDirection:"column"}}isOverflow(e,t){return Math.abs(e)<=0}start(e){return 0-e.height}},a=new class{type(){return o.LEFT}style(e){return{left:`-${e}px`,flexDirection:"row"}}isOverflow(e,t){return Math.abs(e)>=t.width}start(e){return 0}},s=new class{type(){return o.RIGHT}style(e){return{left:e+"px",flexDirection:"row"}}isOverflow(e,t){return Math.abs(e)<=0}start(e){return 0-e.width}},u=new Map;u.set(l.type(),l),u.set(r.type(),r),u.set(a.type(),a),u.set(s.type(),s);var c="undefined"!=typeof window;const d=c?window:void 0,f=(c&&window.document,c&&window.navigator,c&&window.location,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});var w="__vueuse_ssr_handlers__",p=(f[w]=f[w]||{},f[w],Object.getOwnPropertySymbols),v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t)=>{var n={};for(i in e)v.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n};c&&null!=window&&window.navigator&&null!=(w=null==window?void 0:window.navigator)&&w.platform&&/iP(ad|hone|od)/.test(null==(c=null==window?void 0:window.navigator)?void 0:c.platform);function y(e){return e?parseInt(e.replace("px","")):0}function g(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:null==e?void 0:e.currentStyle[t]}function b(e,i=function(e,t,n){e.value.style.width=t+"px",e.value.style.height=n+"px"}){const o=t.ref();function l(){var t,n;o.value&&(t=g(o.value,"width"),n=g(o.value,"height"),i(e,y(t),y(n)))}t.onMounted((()=>n(this,void 0,void 0,(function*(){yield t.nextTick();var n=e.value;o.value=null==n?void 0:n.children[0],l(),function(e,n,i={}){const o=i,{window:l=d}=o,r=m(o,["window"]);let a;const s=l&&"IntersectionObserver"in l,u=()=>{a&&(a.disconnect(),a=void 0)},c=t.watch((()=>{var n,i=e;return null!=(n=null==(i=t.unref(i))?void 0:i.$el)?n:i}),(e=>{u(),s&&l&&e&&(a=new MutationObserver(n)).observe(e,r)}),{immediate:!0});i=i=()=>{u(),c()},t.getCurrentScope()&&t.onScopeDispose(i)}(o,l,{childList:!0,subtree:!0})}))))}const O={to:{type:String,default:"top"},dishover:{type:Boolean,default:!0},width:{type:String},height:{type:String},enable:{type:Boolean,default:!0}};function x(){return t.defineComponent({props:O,setup(e,o){function l(e){O.value=e}const{viewportConfig:r,setContainer:a,setContent:s,setViewPort:c,containerConfig:d}=function(){const e=t.ref({container:{el:null,width:0,height:0},content:{el:null,width:0,height:0},viewport:{width:"0px",height:"0px"}});var n=t.computed((()=>e.value.viewport)),i=t.computed((()=>e.value.container)),o=t.computed((()=>e.value.content));return{seamlessContext:e,viewportConfig:n,containerConfig:i,contentConfig:o,setContainer:function(t){e.value.container=t},setContent:function(t){e.value.content=t},setViewPort:function(t){e.value.viewport=t}}}(),f=t.ref(0),w=t.ref(),p=t.ref(),v=t.ref({}),h=t.ref({}),m=(b(p,((t,n,i)=>{s({el:p.value,width:n,height:2*i}),a({el:w.value,width:n,height:i}),c({width:e.width||n+"px",height:e.height||i+"px"}),h.value={width:e.width||n+"px",height:e.height||2*i+"px"}})),t.watch(r,(e=>{v.value={width:e.width,height:e.height}}))),y={position:"relative",overflow:"hidden"},g={position:"absolute",top:0,left:0},O=t.ref(!0),x=(l(e.enable),u.get(e.to)),{startAnimation:S,stopAnimation:T}=function(e,i=!1,o=1e3/60){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};const l=t.ref(null),r=t.ref(null),a=t.ref(!1);function s(){r.value&&(clearTimeout(r.value),r.value=null)}function u(){l.value&&(cancelAnimationFrame(l.value),l.value=null)}return{startAnimation:function t(){return n(this,void 0,void 0,(function*(){u(),l.value=requestAnimationFrame((()=>{e(),i?(s(),r.value=setTimeout((()=>t()),o)):t()})),a.value=!0}))},stopAnimation:function(){u(),i&&s()},running:a}}((()=>{var e;[e=0]=[x.start(d.value)],O.value&&(C.value&&(f.value=e),f.value+=1)})),C=t.computed((()=>x.isOverflow(f.value,d.value)));t.watch((()=>e.enable),(()=>{e.enable?(S(),l(!0)):(T(),f.value=x.start(d.value),l(!1))}),{immediate:!0});const j=t.ref(!1);let A;t.onMounted((()=>n(this,void 0,void 0,(function*(){yield t.nextTick(),f.value=x.start(d.value),S()})))),t.onUnmounted((()=>{T(),m(),A&&clearTimeout(A)})),o.expose({updateData:function(e){j.value=!0,A&&clearTimeout(A),A=setTimeout((()=>{e(),j.value=!1}),5)}});const F=t.computed((()=>Object.assign(Object.assign({transition:"all 16ms inherit",display:"flex"},h.value),x.style(f.value))));return()=>{var n=null==(n=(r=o.slots).default)?void 0:n.call(r),r=(i.notEmpty(n,"SeamlessScroll: You must provide a default slot"),i.isTrue(1===n.length,"SeamlessScroll: You must provide only one default slot"),n[0].type),a=n[0].props;n=n[0].children;return t.h("div",{class:"seamless-scroll-container",ref:w,style:Object.assign(Object.assign({},y),v.value),onMouseover:()=>e.enable&&e.dishover&&l(!1),onMouseout:()=>e.enable&&e.dishover&&l(!0)},t.h("div",{class:"seamless-scroll-content",ref:p,style:Object.assign(Object.assign({},g),F.value)},j.value?[]:[t.h(r,Object.assign({},a),n),t.h(r,Object.assign({},a),n)]))}}})}const S=x(),T=Object.assign(Object.assign({},O),{messages:{type:Array,required:!0},messageFormat:{type:Function,default:e=>e}});function C(){return t.defineComponent({props:T,setup(e){const n=t.computed((()=>e.messages.map(e.messageFormat).join("")));return()=>t.h(S,Object.assign({},e),{default:t.h("div",{style:"white-space: nowrap;",innerHTML:n.value})})}})}const j=C();function A(e,t){return Object.assign(Object.assign({},e),t)}e.MessageScroll=j,e.SeamlessScroll=S,e.default=function(e){e.component("MessageScroll",j),e.component("SeamlessScroll",S)},e.defineColumns=function(e){return e},e.defineMessageScroll=C,e.defineSeamlessScroll=x,e.defineTableScroll=function(e,n,i="table-scroll",o="table-scroll-header",l="table-scroll-body",r="table-scroll-cell",a="table-scroll-row"){return t.defineComponent({props:Object.assign(Object.assign({},O),{data:{type:Array,required:!0}}),setup(s,u){const c={display:"flex",flexDirection:"row",justifyContent:"space-between",listStyle:"none"},d=e=>({textAligin:"center",width:e.width}),f={display:"flex",flexDirection:"row",justifyContent:"space-between",cursor:"pointer",listStyle:"none"};return()=>t.h("div",{class:i},[t.h("ul",{class:o,style:A(c,{})},t.renderList(e,(e=>t.h("li",{class:r,style:A(d(e),e.style)},e.title)))),t.h(S,Object.assign(Object.assign({},s),{class:l}),t.h("div",{},t.renderList(s.data,(i=>t.h("ul",{class:a,onClick:()=>u.emit("clickItem",i),style:A(f,{})},t.renderList(e,(e=>t.h("li",{class:r,style:Object.assign(Object.assign({},A(d(e),e.style)),n?n(e.key,i[e.key]):{})},i[e.key]))))))))])}})},Object.defineProperty(e,"__esModule",{value:!0})}));
