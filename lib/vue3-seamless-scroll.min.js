!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SeamlessScroll={},e.Vue)}(this,(function(e,t){"use strict";function n(e,t,n,s){return new(n=n||Promise)((function(l,r){function i(e){try{o(s.next(e))}catch(e){r(e)}}function a(e){try{o(s.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?l(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,a)}o((s=s.apply(e,t||[])).next())}))}class s{static isTrue(e,t){if(!e)throw new Error(t)}static isFalse(e,t){s.isTrue(!e,t)}static isEmpty(e,t){var n=e&&e.toString();s.isTrue(null==e||!1===e||"null"===n||"undefined"===n||""===n||"{}"===JSON.stringify(e)||"[]"===n,t)}static notEmpty(e,t){var n=e&&e.toString();s.isTrue(null!==e||void 0!==e||!1!==e||"null"!==n||"undefined"!==n||""!==n||"{}"!==JSON.stringify(e)||"[]"!==n,t)}}var l,r;(r=l=l||{}).TOP="top",r.BOTTOM="bottom",r.LEFT="left",r.RIGHT="right";const i=new class{type(){return l.TOP}style(e){return{transform:`translateY(-${e}px)`,flexDirection:"column"}}isOverflow(e,t){return Math.abs(e)>=t.height}start(e){return 0}},a=new class{type(){return l.BOTTOM}style(e){return{transform:`translateY(${e}px)`,flexDirection:"column"}}isOverflow(e,t){return Math.abs(e)<=0}start(e){return 0-e.height}},o=new class{type(){return l.LEFT}style(e){return{transform:`translateX(-${e}px)`,flexDirection:"row"}}isOverflow(e,t){return Math.abs(e)>=t.height}start(e){return 0}},u=new class{type(){return l.RIGHT}style(e){return{transform:`translateX(${e}px)`,flexDirection:"row"}}isOverflow(e,t){return Math.abs(e)<=0}start(e){return 0-e.width}},c=new Map,d=(c.set(i.type(),i),c.set(a.type(),a),c.set(o.type(),o),c.set(u.type(),u),{to:{type:String,default:"top"},duration:{type:Number,default:17},dishover:{type:Boolean,default:!0},width:{type:String},height:{type:String},sleep:{type:Number,default:120},enable:{type:Boolean,default:!0}});function f(){return t.defineComponent({props:d,setup(e,l){function r(e){o.value=e}const i=t.ref(),a=t.ref(),o=t.ref(!0),u=(r(e.enable),t.ref(!0));let d;const f=t.ref({width:0,height:0}),p=c.get(e.to),h=t.computed((()=>p.isOverflow(a.value,f.value)));function v(t=0){if(o.value){if(h.value){u.value=!1,a.value=t;const n=setTimeout((()=>{u.value=!0,clearTimeout(n)}),e.sleep)}a.value+=1}}const y=t.ref({});function g(){var e=null==(t=null==(t=i.value)?void 0:t.children[0])?void 0:t.offsetWidth,t=null==t?void 0:t.offsetHeight;f.value={width:e,height:t}}const m=t.watch(i,(()=>g())),b=t.watch(f,(t=>{t={overflow:"hidden",width:e.width||t.width+"px",height:e.height||t.height+"px"},y.value=Object.assign(Object.assign({},y.value),t)}));function w(){return n(this,void 0,void 0,(function*(){d&&clearTimeout(d),yield t.nextTick(),g(),a.value=p.start(f.value),d=setInterval((()=>v(p.start(f.value))),e.duration)}))}t.watch((()=>e.enable),(()=>{e.enable?(d=setInterval((()=>v(p.start(f.value))),e.duration),r(!0)):(d&&clearInterval(d),a.value=p.start(f.value),r(!1))})),t.onMounted((()=>n(this,void 0,void 0,(function*(){w(),window.addEventListener("resize",w)})))),t.onUnmounted((()=>{d&&clearInterval(d),m(),b(),window.removeEventListener("resize",w)}));const O=t.computed((()=>u.value?Object.assign({transition:`all ${e.duration}ms`,display:"flex"},p.style(a.value)):Object.assign({display:"flex"},p.style(a.value))));return()=>{var n=null==(n=(a=l.slots).default)?void 0:n.call(a),a=(s.notEmpty(n,"SeamlessScroll: You must provide a default slot"),s.isTrue(1===n.length,"SeamlessScroll: You must provide only one default slot"),n[0].type),o=n[0].props;n=n[0].children;return t.h("div",{style:y.value,onMouseover:()=>e.enable&&e.dishover&&r(!1),onMouseout:()=>e.enable&&e.dishover&&r(!0)},t.h("div",{ref:i,style:O.value},[t.h(a,Object.assign({},o),n),t.h(a,Object.assign({},o),n)]))}}})}const p=f(),h=Object.assign(Object.assign({},d),{messages:{type:Array,required:!0},messageFormat:{type:Function,default:e=>e}});function v(){return t.defineComponent({props:h,setup(e){const n=t.computed((()=>e.messages.map(e.messageFormat).join("")));return()=>t.h(p,Object.assign({},e),{default:t.h("div",{style:"white-space: nowrap;",innerHTML:n.value})})}})}const y=v();function g(e,t){return Object.assign(Object.assign({},e),t)}e.MessageScroll=y,e.SeamlessScroll=p,e.default=function(e){e.component("MessageScroll",y),e.component("SeamlessScroll",p)},e.defineColumns=function(e){return e},e.defineMessageScroll=v,e.defineSeamlessScroll=f,e.defineTableScroll=function(e,n,s="table-scroll",l="table-scroll-header",r="table-scroll-body",i="table-scroll-cell",a="table-scroll-row"){return t.defineComponent({props:Object.assign(Object.assign({},d),{data:{type:Array,required:!0}}),setup(o,u){const c={display:"flex",flexDirection:"row",justifyContent:"space-between",listStyle:"none"},d=e=>({textAligin:"center",width:e.width}),f={display:"flex",flexDirection:"row",justifyContent:"space-between",cursor:"pointer",listStyle:"none"};return()=>t.h("div",{class:s},[t.h("ul",{class:l,style:g(c,{})},t.renderList(e,(e=>t.h("li",{class:i,style:g(d(e),e.style)},e.title)))),t.h(p,Object.assign(Object.assign({},o),{class:r}),t.h("div",{},t.renderList(o.data,(s=>t.h("ul",{class:a,onClick:()=>u.emit("clickItem",s),style:g(f,{})},t.renderList(e,(e=>t.h("li",{class:i,style:Object.assign(Object.assign({},g(d(e),e.style)),n?n(e.key,s[e.key]):{})},s[e.key]))))))))])}})},Object.defineProperty(e,"__esModule",{value:!0})}));
