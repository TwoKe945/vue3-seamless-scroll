!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SeamlessScroll={},e.Vue)}(this,(function(e,t){"use strict";function s(e,t,s,n){return new(s=s||Promise)((function(l,i){function o(e){try{a(n.next(e))}catch(e){i(e)}}function r(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?l(e.value):((t=e.value)instanceof s?t:new s((function(e){e(t)}))).then(o,r)}a((n=n.apply(e,t||[])).next())}))}class n{static isTrue(e,t){if(!e)throw new Error(t)}static isFalse(e,t){n.isTrue(!e,t)}static isEmpty(e,t){var s=e&&e.toString();n.isTrue(null==e||!1===e||"null"===s||"undefined"===s||""===s||"{}"===JSON.stringify(e)||"[]"===s,t)}static notEmpty(e,t){var s=e&&e.toString();n.isTrue(null!==e||void 0!==e||!1!==e||"null"!==s||"undefined"!==s||""!==s||"{}"!==JSON.stringify(e)||"[]"!==s,t)}}const l={top:{style:e=>({transform:`translateY(-${e}px)`,flexDirection:"column"}),isOverflow:(e,t)=>Math.abs(e)>=t.height,start:()=>0},bottom:{style:e=>({transform:`translateY(${e}px)`,flexDirection:"column"}),isOverflow:e=>Math.abs(e)<=0,start:e=>-e.height},left:{style:e=>({transform:`translateX(-${e}px)`,flexDirection:"row"}),isOverflow:(e,t)=>Math.abs(e)>=t.width,start:()=>0},right:{style:e=>({transform:`translateX(${e}px)`,flexDirection:"row"}),isOverflow:e=>Math.abs(e)<=0,start:e=>-e.width}},i={to:{type:String,default:"top"},duration:{type:Number,default:17},dishover:{type:Boolean,default:!0},width:{type:String},height:{type:String},sleep:{type:Number,default:120}},o=t.defineComponent({props:i,setup(e,i){function o(e){u.value=e}const r=t.ref(),a=t.ref(),u=t.ref(!0),c=t.ref(!0);let d;const f=t.ref({width:0,height:0}),h=l[e.to],p=t.computed((()=>h.isOverflow(a.value,f.value))),v=t.ref({});function y(){var e=null==(t=null==(t=r.value)?void 0:t.children[0])?void 0:t.offsetWidth,t=null==t?void 0:t.offsetHeight;f.value={width:e,height:t}}const m=t.watch(r,(()=>y())),g=t.watch(f,(t=>{t={overflow:"hidden",width:e.width||t.width+"px",height:e.height||t.height+"px"},v.value=Object.assign(Object.assign({},v.value),t)}));function b(){return s(this,void 0,void 0,(function*(){console.log("111111"),d&&clearTimeout(d),yield t.nextTick(),y(),a.value=h.start(f.value),d=setInterval((()=>{var[t=0]=[h.start(f.value)];if(u.value){if(p.value){c.value=!1,a.value=t;const s=setTimeout((()=>{c.value=!0,clearTimeout(s)}),e.sleep)}a.value+=1}}),e.duration)}))}t.onMounted((()=>s(this,void 0,void 0,(function*(){b(),window.addEventListener("resize",b)})))),t.onUnmounted((()=>{d&&clearInterval(d),m(),g(),window.removeEventListener("resize",b)}));const w=t.computed((()=>c.value?Object.assign({transition:`all ${e.duration}ms`,display:"flex"},h.style(a.value)):Object.assign({display:"flex"},h.style(a.value))));return()=>{var s=null==(s=(l=i.slots).default)?void 0:s.call(l),l=(n.notEmpty(s,"SeamlessScroll: You must provide a default slot"),n.isTrue(1===s.length,"SeamlessScroll: You must provide only one default slot"),s[0].type),a=s[0].props;s=s[0].children;return t.h("div",{style:v.value,onMouseover:()=>e.dishover&&o(!1),onMouseout:()=>e.dishover&&o(!0)},t.h("div",{ref:r,style:w.value},[t.h(l,Object.assign({},a),s),t.h(l,Object.assign({},a),s)]))}}}),r=Object.assign(Object.assign({},i),{messages:{type:Array,required:!0},messageFormat:{type:Function,default:e=>e}}),a=t.defineComponent({props:r,setup(e){const s=t.computed((()=>e.messages.map(e.messageFormat).join("")));return()=>t.h(o,Object.assign({},e),{default:t.h("div",{style:"white-space: nowrap;",innerHTML:s.value})})}});function u(e,t){return Object.assign(Object.assign({},e),t)}e.Assert=n,e.MessageScroll=a,e.SeamlessScroll=o,e.default=function(e){e.component("MessageScroll",a),e.component("SeamlessScroll",o)},e.defineColumns=function(e){return e},e.defineTableScroll=function(e,s,n="table-scroll",l="table-scroll-header",r="table-scroll-body",a="table-scroll-cell",c="table-scroll-row"){return t.defineComponent({props:Object.assign(Object.assign({},i),{data:{type:Array,required:!0}}),setup(i,d){const f={display:"flex",flexDirection:"row",justifyContent:"space-between",listStyle:"none"},h=e=>({textAligin:"center",width:e.width}),p={display:"flex",flexDirection:"row",justifyContent:"space-between",cursor:"pointer",listStyle:"none"};return()=>t.h("div",{class:n},[t.h("ul",{class:l,style:u(f,{})},t.renderList(e,(e=>t.h("li",{class:a,style:u(h(e),e.style)},e.title)))),t.h(o,Object.assign(Object.assign({},i),{class:r}),t.h("div",{},t.renderList(i.data,(n=>t.h("ul",{class:c,onClick:()=>d.emit("clickItem",n),style:u(p,{})},t.renderList(e,(e=>t.h("li",{class:a,style:Object.assign(Object.assign({},u(h(e),e.style)),s?s(e.key,n[e.key]):{})},n[e.key]))))))))])}})},Object.defineProperty(e,"__esModule",{value:!0})}));
